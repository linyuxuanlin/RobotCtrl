---
id: 设计文档
title: 设计文档
---

## 参考与致谢

- [STM32 的 PDR_ON 引脚，比较好的解释（转载+补充）](https://blog.csdn.net/Frankenstien_/article/details/105971841)

## MCU

### 启动模式

- 选择从主闪存存储器启动，即 BOOT0 串接 10 K 的下拉电阻，BOOT1 任意。

### 外部高速时钟（HSE）

- 选用村田 8M 晶振。

### 去耦电容

- VDD：总的一个 10 μF 的陶瓷电容，外加每个 VDD 引脚旁接一个 100 nF 陶瓷电容。
- VDDA：100 nF 陶瓷电容 + 1 µF 陶瓷电容。

### VCAP 电容

- 各对地接一个 2.2 µF 陶瓷电容

### 复位电路

- 启用电源监控器：PDR_ON 通过 120Ω 电阻上拉。
- 添加按键复位按键

### 下载调试接口

- 直接引出，不需要外部上拉／下拉电阻（因为 STM32 内部有集成）。

## Dev

### USB

- 删除开关

## Power

电源采用双 XT60 端口输入，拓扑图请见本目录下 `PowerTree.drawio` 文件。

### 电源保护

过压过流保护：使用 TVS 管和保险丝实现瞬时过电压和过电流保护（原图中可变电阻 R4 和电容 C7 用途不明，故删去）

防反接保护：使用 SS56 肖特基二极管防反接保护

### 24V 转 12V 隔离稳压

选用金升阳 URB2412LD-30WR3 DC/DC 隔离电源模块。参数如下：

- 输入电压 24 VDC（范围值 9-36 V，最大值 40 V）
- 输出电压 12 VDC
- 输出电流 2500 mA
- 满载效率 88%（Min）/90%（Typ）
- 最大容性负载 2700 uF
- 启动电压 9 VDC

遥控脚（Ctrl）的使用方法：

- 模块开启：Ctrl 悬空或接 TTL 高电平（3.5-12 VDC）
- 模块关断：Ctrl 接 GND 或低电平（0-1.2 VDC）

### 24V 转 5V 隔离稳压

选用金升阳 URB2405YMD-15WR3 DC/DC 隔离电源模块。参数如下：

- 输入电压 24 VDC（范围值 9-36 V，最大值 40 V）
- 输出电压 5 VDC
- 输出电流 3000 mA
- 满载效率 88%（Min）/90%（Typ）
- 最大容性负载 4700 uF
- 启动电压 9 VDC

遥控脚（Ctrl）的使用方法：

- 模块开启：Ctrl 悬空或接 TTL 高电平（3.5-12 VDC）
- 模块关断：Ctrl 接 GND 或低电平（0-1.2 VDC）
